# PV_water_heating
Using Excess Photovoltaic Energy for Water Heating

Using Excess Photovoltaic Energy with Shelly Devices for Water Heating
Harnessing excess energy generated by your photovoltaic (PV) system can be simplified using Shelly devices, allowing you to efficiently utilize this energy within your home rather than feeding it back into the grid. This method can be particularly effective for heating water in a boiler without requiring extensive technical expertise. Here's how you can achieve this.

Important Safety Notice
WARNING!
Working with electricity can be dangerous. If you're not confident in your understanding of electrical systems or DIY projects, please consult a professional or refrain from attempting this setup. I take no responsibility for any injuries or damages resulting from following these instructions.

**Required Equipment**
1 x Shelly 1 PM
2 x Shelly 1
1 x Shelly 3EM Pro or Shelly 3EM
1 x AC Voltage Regulator 230V


**Overview**
Shelly 3EM Pro: Monitors the real-time consumption and input of the three phases.

Shelly 1 PM: Controls the heater system's power state and measures the input.

Shelly 1: Used to control the voltage regulator's activation and deactivation.


"Wiring Diagram.jpg" LATER


Configuration Steps
Once you have connected everything according to the wiring diagram, there are two primary methods for controlling the system:

Simpler Method: Using the Shelly App
Setup in Shelly App:

Use the Shelly app to monitor the overall power flow across the three phases.
Configure the Shelly 1 UP to activate when the sum of the three phases is negative (indicating excess energy).
Configure the Shelly 1 DOWN to activate when the sum is positive and reaches or exceeds a certain threshold.
Automatic Switch-Off:

In the Shelly app, set both Shelly 1 devices to automatically switch off after 0.5 seconds.
This ensures that the Shelly 1 devices only send a brief signal to the voltage regulator, effectively turning it on or off as needed.


Advanced Method: Using Home Assistant
For more robust, local control that doesn't rely on internet connectivity, you can integrate this setup with Home Assistant:

Home Assistant:

Assume you already have Home Assistant running and have some experience with it. If not, refer to the Home Assistant website for setup guidance.
You can create automations within Home Assistant to monitor the energy data from the Shelly devices and control the voltage regulator based on real-time measurements.
Scripting:

LATER 

This method provides more precise control and reduces dependency on cloud services.
Final Notes

Using Shelly devices in this way allows you to maximize the utility of your PV system's excess energy, contributing to more efficient and sustainable home energy management. Be sure to follow all safety guidelines and consult with a professional if you have any uncertainties about the installation process.

For further details on integrating with Home Assistant, please stay tuned for a detailed script guide, or explore the resources available on the Home Assistant website.

By following these instructions, you can effectively and efficiently use your excess photovoltaic energy for heating water, reducing reliance on the grid and lowering your utility costs.






